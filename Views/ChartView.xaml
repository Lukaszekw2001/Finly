<Window x:Class="Finly.Views.ChartView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        Title="Wykres wydatków" Width="1200" Height="760"
        WindowStartupLocation="CenterOwner">
    <Grid Background="{DynamicResource App.Background}" Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- FILTRY -->
        <Border Style="{StaticResource SurfaceCard}" Padding="14">
            <UniformGrid Rows="1" Columns="7" Margin="0" HorizontalAlignment="Stretch">
                <StackPanel>
                    <TextBlock Text="Sortuj" Style="{StaticResource Caption}"/>
                    <ComboBox ItemsSource="{Binding SortOptions}" SelectedItem="{Binding SelectedSort}"/>
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Sortowanie wg daty" Style="{StaticResource Caption}"/>
                    <ComboBox ItemsSource="{Binding DateSortOptions}" SelectedItem="{Binding SelectedDateSort}"/>
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Od" Style="{StaticResource Caption}"/>
                    <DatePicker SelectedDate="{Binding FromDate}" />
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Do" Style="{StaticResource Caption}"/>
                    <DatePicker SelectedDate="{Binding ToDate}" />
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Kategoria" Style="{StaticResource Caption}"/>
                    <ComboBox ItemsSource="{Binding Categories}" SelectedItem="{Binding SelectedCategory}" />
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Minimalna kwota" Style="{StaticResource Caption}"/>
                    <TextBox Text="{Binding MinAmount}" />
                </StackPanel>

                <StackPanel HorizontalAlignment="Right" VerticalAlignment="Bottom">
                    <Button Content="Filtruj" Command="{Binding ApplyFilterCommand}" />
                </StackPanel>
            </UniformGrid>
        </Border>

        <!-- WYKRES: kategorie (np. PieSeries) -->
        <Border Grid.Row="1" Style="{StaticResource SurfaceCard}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Wydatki wg kategorii" Style="{StaticResource CardHeader}"/>
                <lvc:PieChart Grid.Row="1"
                      Series="{Binding SeriesByCategory}"
                      LegendPosition="Right"
                      DataTooltip="{x:Null}" />
            </Grid>
        </Border>

        <!-- WYKRES: w czasie (np. Column/Line) -->
        <Border Grid.Row="2" Style="{StaticResource SurfaceCard}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Wydatki wg daty" Style="{StaticResource CardHeader}"/>
                <TextBlock Text="Wydatki wg daty" Style="{StaticResource CardHeader}"/>

                <TextBlock Text="Wydatki wg daty" Style="{StaticResource CardHeader}"/>

                <lvc:CartesianChart Grid.Row="1"
                    Series="{Binding SeriesByDate}"
                    DrawMarginFrame="{x:Null}">
                    <!-- OŚ X -->
                    <lvc:CartesianChart.XAxes>
                        <lvc:Axis Labels="{Binding XLabels}"
              LabelsRotation="0"
              TextSize="14" />
                    </lvc:CartesianChart.XAxes>

                    <!-- OŚ Y -->
                    <lvc:CartesianChart.YAxes>
                        <lvc:Axis Labeler="{Binding CurrencyLabeler}"
              TextSize="14" />
                    </lvc:CartesianChart.YAxes>
                </lvc:CartesianChart>


            </Grid>
        </Border>
    </Grid>
</Window>
