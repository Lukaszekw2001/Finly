<Window x:Class="Finly.Views.RegisterView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helpers="clr-namespace:Finly.Helpers"
        Title="Rejestracja"
        KeyDown="Window_KeyDown"
        Background="#101114">

    <!-- Konwertery widoczności -->
    <Window.Resources>
        <helpers:BoolToVisibilityConverter x:Key="BoolToVis"/>
        <helpers:InverseBoolToVisibilityConverter x:Key="InvBoolToVis"/>
    </Window.Resources>

    <!-- Awaryjnie — gdyby okno kiedyś nie było max, pojawi się przewijanie -->
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <!-- Siatka centrująca formularz w pionie i poziomie -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Karta formularza -->
            <Border Grid.Row="1"
                    Background="#1A1B1E"
                    CornerRadius="12"
                    Padding="24"
                    Margin="24"
                    MaxWidth="480"
                    HorizontalAlignment="Center">
                <StackPanel>

                    <TextBlock Text="Utwórz konto"
                               Foreground="White"
                               FontSize="22"
                               FontWeight="SemiBold"
                               Margin="0,0,0,16"/>

                    <!-- Login / e-mail -->
                    <TextBlock Text="Login:" Foreground="White" Margin="0,6,0,4"/>
                    <TextBox x:Name="UsernameBox"
                             Text="{Binding Username, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             MinHeight="34"
                             Margin="0,0,0,8"/>

                    <!-- Hasło -->
                    <TextBlock Text="Hasło:" Foreground="White" Margin="0,6,0,4"/>

                    <!-- PasswordBox (gdy ukryte) -->
                    <PasswordBox x:Name="PasswordBox"
                                 MinHeight="34"
                                 Margin="0,0,0,8"
                                 PasswordChanged="PasswordBox_PasswordChanged"
                                 Visibility="{Binding IsPasswordVisible, Converter={StaticResource InvBoolToVis}}"/>

                    <!-- TextBox (gdy pokazane) -->
                    <TextBox x:Name="PasswordTextBox"
                             Text="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             MinHeight="34"
                             Margin="0,0,0,8"
                             Visibility="{Binding IsPasswordVisible, Converter={StaticResource BoolToVis}}"/>

                    <!-- Powtórz hasło -->
                    <TextBlock Text="Powtórz hasło:" Foreground="White" Margin="0,6,0,4"/>

                    <!-- PasswordBox (gdy ukryte) -->
                    <PasswordBox x:Name="RepeatPasswordBox"
                                 MinHeight="34"
                                 Margin="0,0,0,12"
                                 PasswordChanged="RepeatPasswordBox_PasswordChanged"
                                 Visibility="{Binding IsPasswordVisible, Converter={StaticResource InvBoolToVis}}"/>

                    <!-- TextBox (gdy pokazane) -->
                    <TextBox x:Name="RepeatPasswordTextBox"
                             Text="{Binding RepeatPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             MinHeight="34"
                             Margin="0,0,0,12"
                             Visibility="{Binding IsPasswordVisible, Converter={StaticResource BoolToVis}}"/>

                    <!-- ✅ Pokaż hasło -->
                    <CheckBox Content="Pokaż hasło"
                              Style="{StaticResource CheckBox.Accent}"
                              IsChecked="{Binding IsPasswordVisible}"
                              Margin="0,0,0,12"/>

                    <!-- Rejestracja -->
                    <Button x:Name="RegisterButton"
                            Content="Zarejestruj"
                            Height="38"
                            Command="{Binding RegisterCommand}"/>

                    <TextBlock Text="F11 — pełny ekran • Esc — zamknij"
                               Foreground="#B0B0B0"
                               FontSize="12"
                               Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</Window>
